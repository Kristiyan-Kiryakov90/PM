<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' https://cdn.jsdelivr.net https://cdnjs.cloudflare.com; style-src 'self' 'unsafe-inline' https://cdn.jsdelivr.net; connect-src 'self' https://zuupemhuaovzqqhyyocz.supabase.co wss://zuupemhuaovzqqhyyocz.supabase.co; img-src 'self' data: blob: https://zuupemhuaovzqqhyyocz.supabase.co; font-src 'self'; object-src 'none'; base-uri 'self'; form-action 'self';">
  <meta http-equiv="X-Content-Type-Options" content="nosniff">
  <title>Admin Panel - TaskFlow</title>
</head>
<body>
  <!-- Navigation (injected by navbar component) -->

  <!-- Main Content -->
  <main class="admin-main">
    <div class="container py-6">
      <!-- Header -->
      <div class="admin-header mb-8">
        <h1 class="mb-2">Admin Panel</h1>
        <p class="text-muted">Manage team members, tags, and workflow settings.</p>
      </div>

      <!-- Admin Tabs -->
      <div class="admin-tabs">
        <button class="admin-tab-btn active" data-tab="team">
          <span>ğŸ‘¥</span> Team Members
        </button>
        <button class="admin-tab-btn" data-tab="tags">
          <span>ğŸ·ï¸</span> Tags
        </button>
        <button class="admin-tab-btn" data-tab="workflow">
          <span>âš™ï¸</span> Workflow Settings
        </button>
        <button class="admin-tab-btn" data-tab="sysadmin" id="sysadminTab" style="display: none;">
          <span>âš™ï¸</span> System Admin
        </button>
      </div>

      <!-- Team Tab -->
      <div class="admin-tab-content active" id="team-tab">
        <div class="card">
          <div class="card-header">
            <h3 class="card-title mb-0">Team Members</h3>
          </div>
          <div class="card-body" id="teamContainer">
            <p class="text-muted text-center">Loading team members...</p>
          </div>
        </div>
      </div>

      <!-- Tags Tab -->
      <div class="admin-tab-content" id="tags-tab">
        <div class="card">
          <div class="card-header">
            <h3 class="card-title mb-0">Manage Tags</h3>
            <p class="text-muted mb-0 mt-2" style="font-size: 0.875rem;">Create and manage tags for your team. Users can assign these tags to tasks.</p>
          </div>
          <div class="card-body" id="tagsContainer">
            <p class="text-muted text-center">Loading tags...</p>
          </div>
        </div>
      </div>

      <!-- Workflow Settings Tab -->
      <div class="admin-tab-content" id="workflow-tab">
        <div class="card">
          <div class="card-header">
            <h3 class="card-title mb-0">Workflow Settings</h3>
            <p class="text-muted mb-0 mt-2" style="font-size: 0.875rem;">Customize status columns for your Kanban board. Select a project to manage its workflow.</p>
          </div>
          <div class="card-body" id="workflowContainer">
            <p class="text-muted text-center">Loading workflow settings...</p>
          </div>
        </div>
      </div>

      <!-- System Admin Tab (sys_admin only) -->
      <div class="admin-tab-content" id="sysadmin-tab">
        <div class="card">
          <div class="card-header">
            <h3 class="card-title mb-0">System Administration</h3>
            <p class="text-muted mb-0 mt-2" style="font-size: 0.875rem;">Full access to all users and companies across the system.</p>
          </div>
          <div class="card-body" id="sysadminContainer">
            <p class="text-muted text-center">Loading system admin panel...</p>
          </div>
        </div>
      </div>
    </div>
  </main>

  <script type="module" src="./src/features/admin/pages/admin.js"></script>
</body>
</html>
